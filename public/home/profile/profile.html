<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile editing</title>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <link rel="stylesheet" href="profile.css"> 
</head>

<body>
    <!-- !Is there a way to make this reusable so that we don't to include it in every file that contains the home side-bar? -->
    <div class="menu">
        <ul class="list">
            <li class="list_item">
                <a href="../home.html">
                    <img class="list_icon" src="../images/home.png" alt="home_icon"><br />
                    <span class="list_text">Home</span>
                </a>
            </li>
            <li class="list_item">
                <a href="../profile/profile.html">
                    <img class="list_icon" src="../images/user.png" alt="user_icon"><br />
                    <span class="list_text">Profile</span>
                </a>
            </li>
            <li class="list_item">
                <a href="../events/event.html">
                    <img class="list_icon" src="../images/calendar.png" alt="event_icon"><br />
                    <span class="list_text">Events</span>
                </a>
            </li>
            <li class="list_item">
                <a href="../notifications/notifications.html">
                    <img class="list_icon" src="../images/notif.png" alt="notif_icon"><br />
                    <span class="list_text">Notifications</span>
                </a>
            </li>
        </ul>
    </div>

    <h1>Profile</h1>
    <div class="container">
        <form action="" class="form">
            <div>
                <p class="instructions"> Note: Fields with an asterisk (*) are not required.</p>
            </div>
            <input type="text" placeholder="Full Name" class="form__input" maxlength="50" id="Full Name" required />
            <label for="Full Name" class="form__label">Full Name</label>


            <input type="text" placeholder="Address 1" class="form__input" maxlength="100" id="Address 1" required />
            <label for="Address 1" class="form__label">Address 1</label>


            <input type="text" placeholder="Address 2*" class="form__input" id="Address 2" maxlength="100" />
            <label for="Address 2" class="form__label">Address 2*</label>


            <input type="text" placeholder="City" class="form__input" maxlength="100" id="City" required />
            <label for="City" class="form__label">City</label>


            <input type="text" placeholder="Zip Code" class="form__input" maxlength="9" minlength="5" id="Zip Code"
                required />
            <label for="Zip Code" class="form__label">Zip Code</label>

            <input type="text" placeholder="Preference*" class="form__input" id="Preference" />
            <label for="Preference" class="form__label">Preference*</label>

        </form>
    </div>
    <div class="container">
        <form id="StateForm">
            <label class = "dropdown-Label" for="StateSel">Please enter state:</label>
            <select id="StateSel" name="State" required>
                <option value="" disabled selected>State:</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
            </select>
    </div>

    <div class="container">
        <form id="Skills">
            <label class= "dropdown-Label" for="Skills">Select all applicable skills  </label>
            <select id="Skills" name="Skills" multiple required>
                <option value="bilingual">Bilingual</option>
                <option value="cpr">Cpr Certified</option>
                <option value="HS">High School Diploma or Equivalent</option>
            </select>
        </form>
    </div>

    <form id="availabilityForm">
        <label for="availability">Availability:</label>
        <input type="text" id="availability" name="availability" class="datepicker-input" required>
        <br><br>
        <button type="submit">Submit</button>
    </form>
    <br />
    <button type="button" onclick="gotoLink(this)" value="volHist.html">Volunteer History</button>


    <script>
        // Initialize datepicker with multi-date selection
        $('#availability').datepicker({
            format: "mm/dd/yyyy",
            multidate: true
        });

        // Handle form submission with fetch
        document.getElementById('profileForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent default form submission

            // Collect form data
            const formData = new FormData(this);

            // Send form data using fetch
            fetch('/submit-profile', {
                method: 'POST',
                body: formData
            })
            .then(response => response.text())
            .then(data => {
                // Handle success
                alert('Profile submitted successfully!');
                console.log(data);
            })
            .catch(error => {
                // Handle error
                alert('Error submitting profile.');
                console.error('Error:', error);
            });
        });
    </script>

</body>

</html>